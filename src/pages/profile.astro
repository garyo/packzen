---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout title="Account Settings - PackZen">
  <div class="flex min-h-screen items-center justify-center bg-gray-50 px-4 py-12">
    <div class="w-full max-w-4xl">
      <div class="mb-6">
        <a
          href="/dashboard"
          class="inline-flex items-center text-sm text-gray-600 hover:text-gray-900"
        >
          <svg class="mr-1 h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M15 19l-7-7 7-7"></path>
          </svg>
          Back to Dashboard
        </a>
      </div>
      <div id="user-profile"></div>
    </div>
  </div>
</BaseLayout>

<script>
  import { getClerk } from '../lib/clerk';

  async function initUserProfile() {
    const clerk = await getClerk();

    // Wait for Clerk to be fully loaded
    if (!clerk.loaded) {
      await clerk.load();
    }

    // Mount the UserProfile component
    const userProfileDiv = document.getElementById('user-profile');
    if (userProfileDiv) {
      clerk.mountUserProfile(userProfileDiv, {
        // Optional: You can customize the appearance here
        // appearance: { ... }
      });
    }
  }

  initUserProfile();
</script>
